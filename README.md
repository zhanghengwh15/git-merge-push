# Git Merge Push å·¥å…·é›†

ä¸€ä¸ªé›†æˆäº† Git æ“ä½œã€ç¼–è¯‘æ£€æŸ¥å’Œ Jenkins å‘ç‰ˆçš„è‡ªåŠ¨åŒ–å·¥å…·é›†ï¼Œæ”¯æŒ Java é¡¹ç›®çš„å®Œæ•´ CI/CD æµç¨‹ã€‚

## ğŸš€ ä¸»è¦åŠŸèƒ½

### 1. **Git æ“ä½œè‡ªåŠ¨åŒ–**
- è‡ªåŠ¨æŸ¥æ‰¾ Git ä»“åº“å’Œé¡¹ç›®æ ¹ç›®å½•
- æ™ºèƒ½åˆ†æ”¯åˆå¹¶å’Œæ¨é€
- æ”¯æŒè‡ªå®šä¹‰æäº¤ä¿¡æ¯å’Œç›®æ ‡åˆ†æ”¯

### 2. **è½»é‡çº§ç¼–è¯‘æ£€æŸ¥**
- å¯é€‰çš„ Java é¡¹ç›®è¯­æ³•æ£€æŸ¥
- ç±»å¼•ç”¨éªŒè¯
- éµå¾ª `.gitignore` è§„åˆ™ï¼Œå¿½ç•¥ä¸å¿…è¦çš„æ–‡ä»¶

### 3. **Jenkins å‘ç‰ˆé›†æˆ**
- è‡ªåŠ¨ä» `pom.xml` è·å– `artifactId` ä½œä¸º Jenkins Job åç§°
- æ”¯æŒå¸¦å‚æ•°çš„ Jenkins Job è§¦å‘
- å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è¾“å‡º

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
jenkins_shell/
â”œâ”€â”€ git-merge-push.sh          # ä¸»è„šæœ¬ï¼šGitæ“ä½œ + ç¼–è¯‘æ£€æŸ¥ + å‘ç‰ˆ
â”œâ”€â”€ git-merge-push             # å¯æ‰§è¡Œæ–‡ä»¶ç‰ˆæœ¬
â”œâ”€â”€ jenkins_release.sh         # Jenkins å‘ç‰ˆè„šæœ¬
â”œâ”€â”€ jenkins_release.py         # Python å‘ç‰ˆæ ¸å¿ƒé€»è¾‘
â”œâ”€â”€ install.sh                 # ä¸€é”®å®‰è£…è„šæœ¬
â”œâ”€â”€ install_gmp.sh            # Git Merge Push å®‰è£…è„šæœ¬
â”œâ”€â”€ setup.sh                  # ç¯å¢ƒè®¾ç½®è„šæœ¬
â”œâ”€â”€ build.sh                  # æ„å»ºè„šæœ¬
â”œâ”€â”€ restore.sh                # æ¢å¤è„šæœ¬
â”œâ”€â”€ pom.xml                   # Maven é…ç½®
â”œâ”€â”€ requirements.txt          # Python ä¾èµ–
â”œâ”€â”€ .gitignore               # Git å¿½ç•¥æ–‡ä»¶é…ç½®
â”œâ”€â”€ README.md                # é¡¹ç›®è¯´æ˜
â””â”€â”€ GIT_MERGE_PUSH_README.md # è¯¦ç»†ä½¿ç”¨æ–‡æ¡£
```

## ğŸ› ï¸ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
# ä¸€é”®å®‰è£…
./install.sh

# æˆ–è€…æ‰‹åŠ¨å®‰è£…
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

### 2. åŸºæœ¬ä½¿ç”¨

```bash
# ä»…æ‰§è¡Œ Git æ“ä½œï¼ˆé»˜è®¤æäº¤ä¿¡æ¯ï¼‰
./git-merge-push.sh

# æŒ‡å®šæäº¤ä¿¡æ¯
./git-merge-push.sh "ä¿®å¤ç”¨æˆ·ç™»å½•bug"

# æŒ‡å®šç›®æ ‡åˆ†æ”¯
./git-merge-push.sh "æ–°åŠŸèƒ½å¼€å‘" --branch main

# è¿›è¡Œç¼–è¯‘æ£€æŸ¥
./git-merge-push.sh --compile

# è§¦å‘ Jenkins å‘ç‰ˆ
./git-merge-push.sh --release

# å®Œæ•´æµç¨‹ï¼šç¼–è¯‘æ£€æŸ¥ + å‘ç‰ˆ
./git-merge-push.sh "å‘å¸ƒv1.2.0" --branch main --compile --release
```

## ğŸ“‹ ä½¿ç”¨ç¤ºä¾‹

### åœºæ™¯ 1ï¼šæ—¥å¸¸å¼€å‘
```bash
./git-merge-push.sh "æ—¥å¸¸ä»£ç æäº¤"
```
- è‡ªåŠ¨æäº¤å½“å‰ä¿®æ”¹
- åˆå¹¶åˆ° develop åˆ†æ”¯
- æ¨é€åˆ°è¿œç¨‹ä»“åº“

### åœºæ™¯ 2ï¼šä»£ç è´¨é‡æ£€æŸ¥
```bash
./git-merge-push.sh "åŠŸèƒ½å¼€å‘å®Œæˆ" --compile
```
- æ‰§è¡Œ Git æ“ä½œ
- åœ¨ç›®æ ‡åˆ†æ”¯ä¸Šè¿›è¡Œè½»é‡çº§ç¼–è¯‘æ£€æŸ¥
- ç¡®ä¿ä»£ç è¯­æ³•æ­£ç¡®

### åœºæ™¯ 3ï¼šç”Ÿäº§å‘ç‰ˆ
```bash
./git-merge-push.sh "å‘å¸ƒv1.2.0" --branch main --compile --release
```
- åˆå¹¶åˆ° main åˆ†æ”¯
- ç¼–è¯‘æ£€æŸ¥ç¡®ä¿ä»£ç è´¨é‡
- è‡ªåŠ¨è§¦å‘ Jenkins å‘ç‰ˆæµç¨‹

## âš™ï¸ é…ç½®è¯´æ˜

### Jenkins é…ç½®
åœ¨ `jenkins_release.py` ä¸­é…ç½® Jenkins è¿æ¥ä¿¡æ¯ï¼š
```python
JENKINS_URL = 'http://your-jenkins-url:8080'
JENKINS_USER = 'your-username'
JENKINS_PASS = 'your-password'
```

### Git é…ç½®
è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- æŸ¥æ‰¾ Git ä»“åº“æ ¹ç›®å½•
- æŸ¥æ‰¾åŒ…å« `pom.xml` çš„é¡¹ç›®æ ¹ç›®å½•
- ä» `pom.xml` æå– `artifactId`

## ğŸ”§ é«˜çº§åŠŸèƒ½

### ç¼–è¯‘æ£€æŸ¥ä¼˜åŒ–
- ä½¿ç”¨ `mvn compile -DskipTests` è¿›è¡Œè½»é‡çº§æ£€æŸ¥
- è‡ªåŠ¨éµå¾ª `.gitignore` è§„åˆ™
- å¿½ç•¥ `target/`ã€`build/`ã€`dist/` ç­‰æ„å»ºç›®å½•

### é”™è¯¯å¤„ç†
- è¯¦ç»†çš„å½©è‰²æ—¥å¿—è¾“å‡º
- ç¼–è¯‘å¤±è´¥æ—¶æä¾›æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯
- è‡ªåŠ¨æ¸…ç†ä¸´æ—¶æ–‡ä»¶

### å‚æ•°æ”¯æŒ
- `-r, --release`: å¯ç”¨å‘ç‰ˆæ¨¡å¼
- `-c, --compile`: å¯ç”¨ç¼–è¯‘æ£€æŸ¥
- `-b, --branch`: æŒ‡å®šç›®æ ‡åˆ†æ”¯
- `-m, --message`: æŒ‡å®šæäº¤ä¿¡æ¯
- `-h, --help`: æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯

## ğŸ“š è¯¦ç»†æ–‡æ¡£

æ›´å¤šè¯¦ç»†ä¿¡æ¯è¯·å‚è€ƒï¼š
- [GIT_MERGE_PUSH_README.md](GIT_MERGE_PUSH_README.md) - è¯¦ç»†ä½¿ç”¨æ–‡æ¡£
- [å®‰è£…æŒ‡å—](install_gmp.sh) - å®‰è£…è¯´æ˜

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request æ¥æ”¹è¿›è¿™ä¸ªå·¥å…·ï¼

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚ 